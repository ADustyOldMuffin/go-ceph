<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# rados

```go
import "github.com/ceph/go-ceph/rados"
```

Package rados contains a set of wrappers around Ceph's librados API\.

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func Version() (int, int, int)](<#func-version>)
- [type ClusterRef](<#type-clusterref>)
- [type ClusterStat](<#type-clusterstat>)
- [type Conn](<#type-conn>)
  - [func NewConn() (*Conn, error)](<#func-newconn>)
  - [func NewConnWithClusterAndUser(clusterName string, userName string) (*Conn, error)](<#func-newconnwithclusteranduser>)
  - [func NewConnWithUser(user string) (*Conn, error)](<#func-newconnwithuser>)
  - [func (c *Conn) Cluster() ClusterRef](<#func-conn-cluster>)
  - [func (c *Conn) Connect() error](<#func-conn-connect>)
  - [func (c *Conn) DeletePool(name string) error](<#func-conn-deletepool>)
  - [func (c *Conn) GetClusterStats() (stat ClusterStat, err error)](<#func-conn-getclusterstats>)
  - [func (c *Conn) GetConfigOption(name string) (value string, err error)](<#func-conn-getconfigoption>)
  - [func (c *Conn) GetFSID() (fsid string, err error)](<#func-conn-getfsid>)
  - [func (c *Conn) GetInstanceID() uint64](<#func-conn-getinstanceid>)
  - [func (c *Conn) GetPoolByID(id int64) (string, error)](<#func-conn-getpoolbyid>)
  - [func (c *Conn) GetPoolByName(name string) (int64, error)](<#func-conn-getpoolbyname>)
  - [func (c *Conn) ListPools() (names []string, err error)](<#func-conn-listpools>)
  - [func (c *Conn) MakePool(name string) error](<#func-conn-makepool>)
  - [func (c *Conn) MgrCommand(args [][]byte) ([]byte, string, error)](<#func-conn-mgrcommand>)
  - [func (c *Conn) MgrCommandWithInputBuffer(args [][]byte, inputBuffer []byte) ([]byte, string, error)](<#func-conn-mgrcommandwithinputbuffer>)
  - [func (c *Conn) MonCommand(args []byte) ([]byte, string, error)](<#func-conn-moncommand>)
  - [func (c *Conn) MonCommandTarget(name string, args [][]byte) ([]byte, string, error)](<#func-conn-moncommandtarget>)
  - [func (c *Conn) MonCommandTargetWithInputBuffer(name string, args [][]byte, inputBuffer []byte) ([]byte, string, error)](<#func-conn-moncommandtargetwithinputbuffer>)
  - [func (c *Conn) MonCommandWithInputBuffer(args, inputBuffer []byte) ([]byte, string, error)](<#func-conn-moncommandwithinputbuffer>)
  - [func (c *Conn) OpenIOContext(pool string) (*IOContext, error)](<#func-conn-openiocontext>)
  - [func (c *Conn) OsdCommand(osd int, args [][]byte) ([]byte, string, error)](<#func-conn-osdcommand>)
  - [func (c *Conn) OsdCommandWithInputBuffer(osd int, args [][]byte, inputBuffer []byte) ([]byte, string, error)](<#func-conn-osdcommandwithinputbuffer>)
  - [func (c *Conn) PGCommand(pgid []byte, args [][]byte) ([]byte, string, error)](<#func-conn-pgcommand>)
  - [func (c *Conn) PGCommandWithInputBuffer(pgid []byte, args [][]byte, inputBuffer []byte) ([]byte, string, error)](<#func-conn-pgcommandwithinputbuffer>)
  - [func (c *Conn) ParseCmdLineArgs(args []string) error](<#func-conn-parsecmdlineargs>)
  - [func (c *Conn) ParseConfigArgv(argv []string) error](<#func-conn-parseconfigargv>)
  - [func (c *Conn) ParseDefaultConfigEnv() error](<#func-conn-parsedefaultconfigenv>)
  - [func (c *Conn) PingMonitor(id string) (string, error)](<#func-conn-pingmonitor>)
  - [func (c *Conn) ReadConfigFile(path string) error](<#func-conn-readconfigfile>)
  - [func (c *Conn) ReadDefaultConfigFile() error](<#func-conn-readdefaultconfigfile>)
  - [func (c *Conn) SetConfigOption(option, value string) error](<#func-conn-setconfigoption>)
  - [func (c *Conn) Shutdown()](<#func-conn-shutdown>)
  - [func (c *Conn) WaitForLatestOSDMap() error](<#func-conn-waitforlatestosdmap>)
  - [func (c *Conn) WatcherFlush() error](<#func-conn-watcherflush>)
- [type CreateOption](<#type-createoption>)
- [type GetOmapStep](<#type-getomapstep>)
  - [func (gos *GetOmapStep) More() bool](<#func-getomapstep-more>)
  - [func (gos *GetOmapStep) Next() (*OmapKeyValue, error)](<#func-getomapstep-next>)
- [type IOContext](<#type-iocontext>)
  - [func (ioctx *IOContext) Append(oid string, data []byte) error](<#func-iocontext-append>)
  - [func (ioctx *IOContext) BreakLock(oid, name, client, cookie string) (int, error)](<#func-iocontext-breaklock>)
  - [func (ioctx *IOContext) CleanOmap(oid string) error](<#func-iocontext-cleanomap>)
  - [func (ioctx *IOContext) Create(oid string, exclusive CreateOption) error](<#func-iocontext-create>)
  - [func (ioctx *IOContext) CreateSnap(snapName string) error](<#func-iocontext-createsnap>)
  - [func (ioctx *IOContext) Delete(oid string) error](<#func-iocontext-delete>)
  - [func (ioctx *IOContext) Destroy()](<#func-iocontext-destroy>)
  - [func (ioctx *IOContext) GetAllOmapValues(oid string, startAfter string, filterPrefix string, iteratorSize int64) (map[string][]byte, error)](<#func-iocontext-getallomapvalues>)
  - [func (ioctx *IOContext) GetLastVersion() (uint64, error)](<#func-iocontext-getlastversion>)
  - [func (ioctx *IOContext) GetNamespace() (string, error)](<#func-iocontext-getnamespace>)
  - [func (ioctx *IOContext) GetOmapValues(oid string, startAfter string, filterPrefix string, maxReturn int64) (map[string][]byte, error)](<#func-iocontext-getomapvalues>)
  - [func (ioctx *IOContext) GetPoolID() int64](<#func-iocontext-getpoolid>)
  - [func (ioctx *IOContext) GetPoolName() (name string, err error)](<#func-iocontext-getpoolname>)
  - [func (ioctx *IOContext) GetPoolStats() (stat PoolStat, err error)](<#func-iocontext-getpoolstats>)
  - [func (ioctx *IOContext) GetSnapName(snapID SnapID) (string, error)](<#func-iocontext-getsnapname>)
  - [func (ioctx *IOContext) GetSnapStamp(snapID SnapID) (time.Time, error)](<#func-iocontext-getsnapstamp>)
  - [func (ioctx *IOContext) GetXattr(object string, name string, data []byte) (int, error)](<#func-iocontext-getxattr>)
  - [func (ioctx *IOContext) Iter() (*Iter, error)](<#func-iocontext-iter>)
  - [func (ioctx *IOContext) ListLockers(oid, name string) (*LockInfo, error)](<#func-iocontext-listlockers>)
  - [func (ioctx *IOContext) ListObjects(listFn ObjectListFunc) error](<#func-iocontext-listobjects>)
  - [func (ioctx *IOContext) ListOmapValues(oid string, startAfter string, filterPrefix string, maxReturn int64, listFn OmapListFunc) error](<#func-iocontext-listomapvalues>)
  - [func (ioctx *IOContext) ListSnaps() ([]SnapID, error)](<#func-iocontext-listsnaps>)
  - [func (ioctx *IOContext) ListXattrs(oid string) (map[string][]byte, error)](<#func-iocontext-listxattrs>)
  - [func (ioctx *IOContext) LockExclusive(oid, name, cookie, desc string, duration time.Duration, flags *byte) (int, error)](<#func-iocontext-lockexclusive>)
  - [func (ioctx *IOContext) LockShared(oid, name, cookie, tag, desc string, duration time.Duration, flags *byte) (int, error)](<#func-iocontext-lockshared>)
  - [func (ioctx *IOContext) LookupSnap(snapName string) (SnapID, error)](<#func-iocontext-lookupsnap>)
  - [func (ioctx *IOContext) Notify(obj string, data []byte) ([]NotifyAck, []NotifyTimeout, error)](<#func-iocontext-notify>)
  - [func (ioctx *IOContext) NotifyWithTimeout(obj string, data []byte, timeout time.Duration) ([]NotifyAck, []NotifyTimeout, error)](<#func-iocontext-notifywithtimeout>)
  - [func (ioctx *IOContext) Pointer() unsafe.Pointer](<#func-iocontext-pointer>)
  - [func (ioctx *IOContext) Read(oid string, data []byte, offset uint64) (int, error)](<#func-iocontext-read>)
  - [func (ioctx *IOContext) RemoveSnap(snapName string) error](<#func-iocontext-removesnap>)
  - [func (ioctx *IOContext) RmOmapKeys(oid string, keys []string) error](<#func-iocontext-rmomapkeys>)
  - [func (ioctx *IOContext) RmXattr(oid string, name string) error](<#func-iocontext-rmxattr>)
  - [func (ioctx *IOContext) RollbackSnap(oid, snapName string) error](<#func-iocontext-rollbacksnap>)
  - [func (ioctx *IOContext) SetNamespace(namespace string)](<#func-iocontext-setnamespace>)
  - [func (ioctx *IOContext) SetOmap(oid string, pairs map[string][]byte) error](<#func-iocontext-setomap>)
  - [func (ioctx *IOContext) SetPoolFullTry() error](<#func-iocontext-setpoolfulltry>)
  - [func (ioctx *IOContext) SetReadSnap(snapID SnapID) error](<#func-iocontext-setreadsnap>)
  - [func (ioctx *IOContext) SetXattr(object string, name string, data []byte) error](<#func-iocontext-setxattr>)
  - [func (ioctx *IOContext) Stat(object string) (stat ObjectStat, err error)](<#func-iocontext-stat>)
  - [func (ioctx *IOContext) Truncate(oid string, size uint64) error](<#func-iocontext-truncate>)
  - [func (ioctx *IOContext) Unlock(oid, name, cookie string) (int, error)](<#func-iocontext-unlock>)
  - [func (ioctx *IOContext) UnsetPoolFullTry() error](<#func-iocontext-unsetpoolfulltry>)
  - [func (ioctx *IOContext) Watch(obj string) (*Watcher, error)](<#func-iocontext-watch>)
  - [func (ioctx *IOContext) WatchWithTimeout(oid string, timeout time.Duration) (*Watcher, error)](<#func-iocontext-watchwithtimeout>)
  - [func (ioctx *IOContext) Write(oid string, data []byte, offset uint64) error](<#func-iocontext-write>)
  - [func (ioctx *IOContext) WriteFull(oid string, data []byte) error](<#func-iocontext-writefull>)
- [type Iter](<#type-iter>)
  - [func (iter *Iter) Close()](<#func-iter-close>)
  - [func (iter *Iter) Err() error](<#func-iter-err>)
  - [func (iter *Iter) Namespace() string](<#func-iter-namespace>)
  - [func (iter *Iter) Next() bool](<#func-iter-next>)
  - [func (iter *Iter) Seek(token IterToken)](<#func-iter-seek>)
  - [func (iter *Iter) Token() IterToken](<#func-iter-token>)
  - [func (iter *Iter) Value() string](<#func-iter-value>)
- [type IterToken](<#type-itertoken>)
- [type LockInfo](<#type-lockinfo>)
- [type NotifierID](<#type-notifierid>)
- [type NotifyAck](<#type-notifyack>)
- [type NotifyEvent](<#type-notifyevent>)
  - [func (ne *NotifyEvent) Ack(response []byte) error](<#func-notifyevent-ack>)
- [type NotifyID](<#type-notifyid>)
- [type NotifyTimeout](<#type-notifytimeout>)
- [type ObjectListFunc](<#type-objectlistfunc>)
- [type ObjectStat](<#type-objectstat>)
- [type OmapKeyValue](<#type-omapkeyvalue>)
- [type OmapListFunc](<#type-omaplistfunc>)
- [type OpFlags](<#type-opflags>)
- [type OperationError](<#type-operationerror>)
  - [func (e OperationError) Error() string](<#func-operationerror-error>)
- [type OperationFlags](<#type-operationflags>)
- [type PoolStat](<#type-poolstat>)
- [type ReadOp](<#type-readop>)
  - [func CreateReadOp() *ReadOp](<#func-createreadop>)
  - [func (r *ReadOp) AssertExists()](<#func-readop-assertexists>)
  - [func (r *ReadOp) AssertVersion(ver uint64)](<#func-readop-assertversion>)
  - [func (r *ReadOp) GetOmapValues(startAfter, filterPrefix string, maxReturn uint64) *GetOmapStep](<#func-readop-getomapvalues>)
  - [func (r *ReadOp) GetOmapValuesByKeys(keys []string) *ReadOpOmapGetValsByKeysStep](<#func-readop-getomapvaluesbykeys>)
  - [func (r *ReadOp) Operate(ioctx *IOContext, oid string, flags OperationFlags) error](<#func-readop-operate>)
  - [func (r *ReadOp) Read(offset uint64, buffer []byte) *ReadOpReadStep](<#func-readop-read>)
  - [func (r *ReadOp) Release()](<#func-readop-release>)
- [type ReadOpOmapGetValsByKeysStep](<#type-readopomapgetvalsbykeysstep>)
  - [func (s *ReadOpOmapGetValsByKeysStep) Next() (*OmapKeyValue, error)](<#func-readopomapgetvalsbykeysstep-next>)
- [type ReadOpReadStep](<#type-readopreadstep>)
- [type SnapID](<#type-snapid>)
- [type Timespec](<#type-timespec>)
- [type Watcher](<#type-watcher>)
  - [func (w *Watcher) Check() (time.Duration, error)](<#func-watcher-check>)
  - [func (w *Watcher) Delete() error](<#func-watcher-delete>)
  - [func (w *Watcher) Errors() <-chan error](<#func-watcher-errors>)
  - [func (w *Watcher) Events() <-chan NotifyEvent](<#func-watcher-events>)
  - [func (w *Watcher) ID() WatcherID](<#func-watcher-id>)
- [type WatcherID](<#type-watcherid>)
- [type WriteOp](<#type-writeop>)
  - [func CreateWriteOp() *WriteOp](<#func-createwriteop>)
  - [func (w *WriteOp) AssertExists()](<#func-writeop-assertexists>)
  - [func (w *WriteOp) AssertVersion(ver uint64)](<#func-writeop-assertversion>)
  - [func (w *WriteOp) CleanOmap()](<#func-writeop-cleanomap>)
  - [func (w *WriteOp) CmpExt(b []byte, offset uint64) *WriteOpCmpExtStep](<#func-writeop-cmpext>)
  - [func (w *WriteOp) Create(exclusive CreateOption)](<#func-writeop-create>)
  - [func (w *WriteOp) Operate(ioctx *IOContext, oid string, flags OperationFlags) error](<#func-writeop-operate>)
  - [func (w *WriteOp) OperateWithMtime(ioctx *IOContext, oid string, mtime Timespec, flags OperationFlags) error](<#func-writeop-operatewithmtime>)
  - [func (w *WriteOp) Release()](<#func-writeop-release>)
  - [func (w *WriteOp) Remove()](<#func-writeop-remove>)
  - [func (w *WriteOp) RmOmapKeys(keys []string)](<#func-writeop-rmomapkeys>)
  - [func (w *WriteOp) SetOmap(pairs map[string][]byte)](<#func-writeop-setomap>)
  - [func (w *WriteOp) SetXattr(name string, value []byte)](<#func-writeop-setxattr>)
  - [func (w *WriteOp) Write(b []byte, offset uint64)](<#func-writeop-write>)
  - [func (w *WriteOp) WriteFull(b []byte)](<#func-writeop-writefull>)
  - [func (w *WriteOp) WriteSame(b []byte, writeLen, offset uint64)](<#func-writeop-writesame>)
- [type WriteOpCmpExtStep](<#type-writeopcmpextstep>)


## Constants

```go
const (
    // ErrNotFound indicates a missing resource.
    ErrNotFound = radosError(-C.ENOENT)
    // ErrPermissionDenied indicates a permissions issue.
    ErrPermissionDenied = radosError(-C.EPERM)
    // ErrObjectExists indicates that an exclusive object creation failed.
    ErrObjectExists = radosError(-C.EEXIST)

    // RadosErrorNotFound indicates a missing resource.
    //
    // Deprecated: use ErrNotFound instead
    RadosErrorNotFound = ErrNotFound
    // RadosErrorPermissionDenied indicates a permissions issue.
    //
    // Deprecated: use ErrPermissionDenied instead
    RadosErrorPermissionDenied = ErrPermissionDenied
)
```

```go
const (
    // CreateExclusive if used with IOContext.Create() and the object
    // already exists, the function will return an error.
    CreateExclusive = C.LIBRADOS_CREATE_EXCLUSIVE
    // CreateIdempotent if used with IOContext.Create() and the object
    // already exists, the function will not return an error.
    CreateIdempotent = C.LIBRADOS_CREATE_IDEMPOTENT
)
```

```go
const (
    // OperationNoFlag indicates no special behavior is requested.
    OperationNoFlag = OperationFlags(C.LIBRADOS_OPERATION_NOFLAG)
    // OperationBalanceReads TODO
    OperationBalanceReads = OperationFlags(C.LIBRADOS_OPERATION_BALANCE_READS)
    // OperationLocalizeReads TODO
    OperationLocalizeReads = OperationFlags(C.LIBRADOS_OPERATION_LOCALIZE_READS)
    // OperationOrderReadsWrites TODO
    OperationOrderReadsWrites = OperationFlags(C.LIBRADOS_OPERATION_ORDER_READS_WRITES)
    // OperationIgnoreCache TODO
    OperationIgnoreCache = OperationFlags(C.LIBRADOS_OPERATION_IGNORE_CACHE)
    // OperationSkipRWLocks TODO
    OperationSkipRWLocks = OperationFlags(C.LIBRADOS_OPERATION_SKIPRWLOCKS)
    // OperationIgnoreOverlay TODO
    OperationIgnoreOverlay = OperationFlags(C.LIBRADOS_OPERATION_IGNORE_OVERLAY)
    // OperationFullTry send request to a full cluster or pool, ops such as delete
    // can succeed while other ops will return out-of-space errors.
    OperationFullTry = OperationFlags(C.LIBRADOS_OPERATION_FULL_TRY)
    // OperationFullForce TODO
    OperationFullForce = OperationFlags(C.LIBRADOS_OPERATION_FULL_FORCE)
    // OperationIgnoreRedirect TODO
    OperationIgnoreRedirect = OperationFlags(C.LIBRADOS_OPERATION_IGNORE_REDIRECT)
    // OperationOrderSnap TODO
    OperationOrderSnap = OperationFlags(C.LIBRADOS_OPERATION_ORDERSNAP)
)
```

```go
const (
    // AllNamespaces is used to reset a selected namespace to all
    // namespaces. See the IOContext SetNamespace function.
    AllNamespaces = C.LIBRADOS_ALL_NSPACES

    // RadosAllNamespaces is used to reset a selected namespace to all
    // namespaces. See the IOContext SetNamespace function.
    //
    // Deprecated: use AllNamespaces instead
    RadosAllNamespaces = AllNamespaces
)
```

```go
const (
    // OpFlagNone can be use to not set any flags.
    OpFlagNone = OpFlags(0)
    // OpFlagExcl marks an op to fail a create operation if the object
    // already exists.
    OpFlagExcl = OpFlags(C.LIBRADOS_OP_FLAG_EXCL)
    // OpFlagFailOk allows the transaction to succeed even if the flagged
    // op fails.
    OpFlagFailOk = OpFlags(C.LIBRADOS_OP_FLAG_FAILOK)
    // OpFlagFAdviseRandom indicates read/write op random.
    OpFlagFAdviseRandom = OpFlags(C.LIBRADOS_OP_FLAG_FADVISE_RANDOM)
    // OpFlagFAdviseSequential indicates read/write op sequential.
    OpFlagFAdviseSequential = OpFlags(C.LIBRADOS_OP_FLAG_FADVISE_SEQUENTIAL)
    // OpFlagFAdviseWillNeed indicates read/write data will be accessed in
    // the near future (by someone).
    OpFlagFAdviseWillNeed = OpFlags(C.LIBRADOS_OP_FLAG_FADVISE_WILLNEED)
    // OpFlagFAdviseDontNeed indicates read/write data will not accessed in
    // the near future (by anyone).
    OpFlagFAdviseDontNeed = OpFlags(C.LIBRADOS_OP_FLAG_FADVISE_DONTNEED)
    // OpFlagFAdviseNoCache indicates read/write data will not accessed
    // again (by *this* client).
    OpFlagFAdviseNoCache = OpFlags(C.LIBRADOS_OP_FLAG_FADVISE_NOCACHE)
)
```

```go
const (
    // OpFlagFAdviseFUA optionally support FUA (force unit access) on write
    // requests.
    OpFlagFAdviseFUA = OpFlags(C.LIBRADOS_OP_FLAG_FADVISE_FUA)
)
```

SnapHead is the representation of LIBRADOS\_SNAP\_HEAD from librados\. SnapHead can be used to reset the IOContext to stop reading from a snapshot\.

```go
const SnapHead = SnapID(C.LIBRADOS_SNAP_HEAD)
```

## Variables

```go
var (
    // ErrNotConnected is returned when functions are called
    // without a RADOS connection.
    ErrNotConnected = errors.New("RADOS not connected")
    // ErrEmptyArgument may be returned if a function argument is passed
    // a zero-length slice or map.
    ErrEmptyArgument = errors.New("Argument must contain at least one item")
    // ErrInvalidIOContext may be returned if an api call requires an IOContext
    // but IOContext is not ready for use.
    ErrInvalidIOContext = errors.New("IOContext is not ready for use")
    // ErrOperationIncomplete is returned from write op or read op steps for
    // which the operation has not been performed yet.
    ErrOperationIncomplete = errors.New("Operation has not been performed yet")
)
```

## func [Version](<https://github.com/ceph/go-ceph/blob/master/rados/rados.go#L57>)

```go
func Version() (int, int, int)
```

Version returns the major\, minor\, and patch components of the version of the RADOS library linked against\.

## type [ClusterRef](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L36>)

ClusterRef represents a fundamental RADOS cluster connection\.

```go
type ClusterRef C.rados_t
```

## type [ClusterStat](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L20-L25>)

ClusterStat represents Ceph cluster statistics\.

```go
type ClusterStat struct {
    Kb          uint64
    Kb_used     uint64
    Kb_avail    uint64
    Num_objects uint64
}
```

## type [Conn](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L30-L33>)

Conn is a connection handle to a Ceph cluster\.

```go
type Conn struct {
    // contains filtered or unexported fields
}
```

### func [NewConn](<https://github.com/ceph/go-ceph/blob/master/rados/rados.go#L81>)

```go
func NewConn() (*Conn, error)
```

NewConn creates a new connection object\. It returns the connection and an error\, if any\.

### func [NewConnWithClusterAndUser](<https://github.com/ceph/go-ceph/blob/master/rados/rados.go#L95>)

```go
func NewConnWithClusterAndUser(clusterName string, userName string) (*Conn, error)
```

NewConnWithClusterAndUser creates a new connection object for a specific cluster and username\. It returns the connection and an error\, if any\.

### func [NewConnWithUser](<https://github.com/ceph/go-ceph/blob/master/rados/rados.go#L87>)

```go
func NewConnWithUser(user string) (*Conn, error)
```

NewConnWithUser creates a new connection object with a custom username\. It returns the connection and an error\, if any\.

### func \(\*Conn\) [Cluster](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L39>)

```go
func (c *Conn) Cluster() ClusterRef
```

Cluster returns the underlying RADOS cluster reference for this Conn\.

### func \(\*Conn\) [Connect](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L63>)

```go
func (c *Conn) Connect() error
```

Connect establishes a connection to a RADOS cluster\. It returns an error\, if any\.

### func \(\*Conn\) [DeletePool](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L275>)

```go
func (c *Conn) DeletePool(name string) error
```

DeletePool deletes a pool and all the data inside the pool\.

### func \(\*Conn\) [GetClusterStats](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L182>)

```go
func (c *Conn) GetClusterStats() (stat ClusterStat, err error)
```

GetClusterStats returns statistics about the cluster associated with the connection\.

### func \(\*Conn\) [GetConfigOption](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L143>)

```go
func (c *Conn) GetConfigOption(name string) (value string, err error)
```

GetConfigOption returns the value of the Ceph configuration option identified by the given name\.

### func \(\*Conn\) [GetFSID](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L247>)

```go
func (c *Conn) GetFSID() (fsid string, err error)
```

GetFSID returns the fsid of the cluster as a hexadecimal string\. The fsid is a unique identifier of an entire Ceph cluster\.

### func \(\*Conn\) [GetInstanceID](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L261>)

```go
func (c *Conn) GetInstanceID() uint64
```

GetInstanceID returns a globally unique identifier for the cluster connection instance\.

### func \(\*Conn\) [GetPoolByID](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L300>)

```go
func (c *Conn) GetPoolByID(id int64) (string, error)
```

GetPoolByID returns the name of a pool by a given ID\.

### func \(\*Conn\) [GetPoolByName](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L286>)

```go
func (c *Conn) GetPoolByName(name string) (int64, error)
```

GetPoolByName returns the ID of the pool with a given name\.

### func \(\*Conn\) [ListPools](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L112>)

```go
func (c *Conn) ListPools() (names []string, err error)
```

ListPools returns the names of all existing pools\.

### func \(\*Conn\) [MakePool](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L267>)

```go
func (c *Conn) MakePool(name string) error
```

MakePool creates a new pool with default settings\.

### func \(\*Conn\) [MgrCommand](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L88>)

```go
func (c *Conn) MgrCommand(args [][]byte) ([]byte, string, error)
```

MgrCommand sends a command to a ceph\-mgr\.

### func \(\*Conn\) [MgrCommandWithInputBuffer](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L100>)

```go
func (c *Conn) MgrCommandWithInputBuffer(args [][]byte, inputBuffer []byte) ([]byte, string, error)
```

MgrCommandWithInputBuffer sends a command\, with an input buffer\, to a ceph\-mgr\.

Implements: int rados\_mgr\_command\(rados\_t cluster\, const char \*\*cmd\, size\_t cmdlen\, const char \*inbuf\, size\_t inbuflen\, char \*\*outbuf\, size\_t \*outbuflen\, char \*\*outs\, size\_t \*outslen\);

### func \(\*Conn\) [MonCommand](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L19>)

```go
func (c *Conn) MonCommand(args []byte) ([]byte, string, error)
```

MonCommand sends a command to one of the monitors

### func \(\*Conn\) [MonCommandTarget](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L158>)

```go
func (c *Conn) MonCommandTarget(name string, args [][]byte) ([]byte, string, error)
```

MonCommandTarget sends a command to a specified monitor\.

### func \(\*Conn\) [MonCommandTargetWithInputBuffer](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L170-L171>)

```go
func (c *Conn) MonCommandTargetWithInputBuffer(name string, args [][]byte, inputBuffer []byte) ([]byte, string, error)
```

MonCommandTargetWithInputBuffer sends a command\, with an input buffer\, to a specified monitor\.

Implements: int rados\_mon\_command\_target\(rados\_t cluster\, const char \*name\, const char \*\*cmd\, size\_t cmdlen\, const char \*inbuf\, size\_t inbuflen\, char \*\*outbuf\, size\_t \*outbuflen\, char \*\*outs\, size\_t \*outslen\);

### func \(\*Conn\) [MonCommandWithInputBuffer](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L24>)

```go
func (c *Conn) MonCommandWithInputBuffer(args, inputBuffer []byte) ([]byte, string, error)
```

MonCommandWithInputBuffer sends a command to one of the monitors\, with an input buffer

### func \(\*Conn\) [OpenIOContext](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L100>)

```go
func (c *Conn) OpenIOContext(pool string) (*IOContext, error)
```

OpenIOContext creates and returns a new IOContext for the given pool\.

Implements: int rados\_ioctx\_create\(rados\_t cluster\, const char \*pool\_name\, rados\_ioctx\_t \*ioctx\);

### func \(\*Conn\) [OsdCommand](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L121>)

```go
func (c *Conn) OsdCommand(osd int, args [][]byte) ([]byte, string, error)
```

OsdCommand sends a command to the specified ceph OSD\.

### func \(\*Conn\) [OsdCommandWithInputBuffer](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L134-L135>)

```go
func (c *Conn) OsdCommandWithInputBuffer(osd int, args [][]byte, inputBuffer []byte) ([]byte, string, error)
```

OsdCommandWithInputBuffer sends a command\, with an input buffer\, to the specified ceph OSD\.

Implements: int rados\_osd\_command\(rados\_t cluster\, int osdid\, const char \*\*cmd\, size\_t cmdlen\, const char \*inbuf\, size\_t inbuflen\, char \*\*outbuf\, size\_t \*outbuflen\, char \*\*outs\, size\_t \*outslen\);

### func \(\*Conn\) [PGCommand](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L52>)

```go
func (c *Conn) PGCommand(pgid []byte, args [][]byte) ([]byte, string, error)
```

#### PGCommand sends a command to one of the PGs

Implements: int rados\_pg\_command\(rados\_t cluster\, const char \*pgstr\, const char \*\*cmd\, size\_t cmdlen\, const char \*inbuf\, size\_t inbuflen\, char \*\*outbuf\, size\_t \*outbuflen\, char \*\*outs\, size\_t \*outslen\);

### func \(\*Conn\) [PGCommandWithInputBuffer](<https://github.com/ceph/go-ceph/blob/master/rados/command.go#L64>)

```go
func (c *Conn) PGCommandWithInputBuffer(pgid []byte, args [][]byte, inputBuffer []byte) ([]byte, string, error)
```

PGCommandWithInputBuffer sends a command to one of the PGs\, with an input buffer

Implements: int rados\_pg\_command\(rados\_t cluster\, const char \*pgstr\, const char \*\*cmd\, size\_t cmdlen\, const char \*inbuf\, size\_t inbuflen\, char \*\*outbuf\, size\_t \*outbuflen\, char \*\*outs\, size\_t \*outslen\);

### func \(\*Conn\) [ParseCmdLineArgs](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L227>)

```go
func (c *Conn) ParseCmdLineArgs(args []string) error
```

ParseCmdLineArgs configures the connection from command line arguments\.

This function passes a placeholder value to Ceph as argv\[0\]\, see ParseConfigArgv for a version of this function that allows the caller to specify argv\[0\]\.

### func \(\*Conn\) [ParseConfigArgv](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L205>)

```go
func (c *Conn) ParseConfigArgv(argv []string) error
```

ParseConfigArgv configures the connection using a unix style command line argument vector\.

Implements: int rados\_conf\_parse\_argv\(rados\_t cluster\, int argc\, const char \*\*argv\);

### func \(\*Conn\) [ParseDefaultConfigEnv](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L240>)

```go
func (c *Conn) ParseDefaultConfigEnv() error
```

ParseDefaultConfigEnv configures the connection from the default Ceph environment variable CEPH\_ARGS\.

### func \(\*Conn\) [PingMonitor](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L44>)

```go
func (c *Conn) PingMonitor(id string) (string, error)
```

PingMonitor sends a ping to a monitor and returns the reply\.

### func \(\*Conn\) [ReadConfigFile](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L81>)

```go
func (c *Conn) ReadConfigFile(path string) error
```

ReadConfigFile configures the connection using a Ceph configuration file\.

### func \(\*Conn\) [ReadDefaultConfigFile](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L90>)

```go
func (c *Conn) ReadDefaultConfigFile() error
```

ReadDefaultConfigFile configures the connection using a Ceph configuration file located at default locations\.

### func \(\*Conn\) [SetConfigOption](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L133>)

```go
func (c *Conn) SetConfigOption(option, value string) error
```

SetConfigOption sets the value of the configuration option identified by the given name\.

### func \(\*Conn\) [Shutdown](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L73>)

```go
func (c *Conn) Shutdown()
```

Shutdown disconnects from the cluster\.

### func \(\*Conn\) [WaitForLatestOSDMap](<https://github.com/ceph/go-ceph/blob/master/rados/conn.go#L168>)

```go
func (c *Conn) WaitForLatestOSDMap() error
```

WaitForLatestOSDMap blocks the caller until the latest OSD map has been retrieved\.

### func \(\*Conn\) [WatcherFlush](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L281>)

```go
func (c *Conn) WatcherFlush() error
```

WatcherFlush flushes all pending notifications of the cluster\. PREVIEW

Implements: int rados\_watch\_flush\(rados\_t cluster\)

## type [CreateOption](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L37>)

CreateOption is passed to IOContext\.Create\(\) and should be one of CreateExclusive or CreateIdempotent\.

```go
type CreateOption int
```

## type [GetOmapStep](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L90-L110>)

GetOmapStep values are used to get the results of an GetOmapValues call on a WriteOp\. Until the Operate method of the WriteOp is called the Next call will return an error\. After Operate is called\, the Next call will return valid results\.

The life cycle of the GetOmapStep is bound to the ReadOp\, if the ReadOp Release method is called the public methods of the step must no longer be used and may return errors\.

```go
type GetOmapStep struct {
    // contains filtered or unexported fields
}
```

### func \(\*GetOmapStep\) [More](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L172>)

```go
func (gos *GetOmapStep) More() bool
```

More returns true if there are more matching keys available\.

### func \(\*GetOmapStep\) [Next](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L149>)

```go
func (gos *GetOmapStep) Next() (*OmapKeyValue, error)
```

Next returns the next key value pair or nil if iteration is exhausted\.

## type [IOContext](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L95-L97>)

IOContext represents a context for performing I/O within a pool\.

```go
type IOContext struct {
    // contains filtered or unexported fields
}
```

### func \(\*IOContext\) [Append](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L176>)

```go
func (ioctx *IOContext) Append(oid string, data []byte) error
```

Append appends len\(data\) bytes to the object with key oid\. The object is appended with the provided data\. If the object exists\, it is atomically appended to\. It returns an error\, if any\.

### func \(\*IOContext\) [BreakLock](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L619>)

```go
func (ioctx *IOContext) BreakLock(oid, name, client, cookie string) (int, error)
```

BreakLock releases a shared or exclusive lock on an object\, which was taken by the specified client\.

### func \(\*IOContext\) [CleanOmap](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L312>)

```go
func (ioctx *IOContext) CleanOmap(oid string) error
```

CleanOmap clears the omap \`oid\`

### func \(\*IOContext\) [Create](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L134>)

```go
func (ioctx *IOContext) Create(oid string, exclusive CreateOption) error
```

Create a new object with key oid\.

Implements: void rados\_write\_op\_create\(rados\_write\_op\_t write\_op\, int exclusive\, const char\* category\)

### func \(\*IOContext\) [CreateSnap](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L19>)

```go
func (ioctx *IOContext) CreateSnap(snapName string) error
```

CreateSnap creates a pool\-wide snapshot\.

Implements: int rados\_ioctx\_snap\_create\(rados\_ioctx\_t io\, const char \*snapname\)

### func \(\*IOContext\) [Delete](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L211>)

```go
func (ioctx *IOContext) Delete(oid string) error
```

Delete deletes the object with key oid\. It returns an error\, if any\.

### func \(\*IOContext\) [Destroy](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L232>)

```go
func (ioctx *IOContext) Destroy()
```

Destroy informs librados that the I/O context is no longer in use\. Resources associated with the context may not be freed immediately\, and the context should not be used again after calling this method\.

### func \(\*IOContext\) [GetAllOmapValues](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L275>)

```go
func (ioctx *IOContext) GetAllOmapValues(oid string, startAfter string, filterPrefix string, iteratorSize int64) (map[string][]byte, error)
```

GetAllOmapValues fetches all the keys and their values from an omap and returns then as a map \`startAfter\`: retrieve only the keys after this specified one \`filterPrefix\`: retrieve only the keys beginning with this prefix \`iteratorSize\`: internal number of keys to fetch during a read operation

### func \(\*IOContext\) [GetLastVersion](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L658>)

```go
func (ioctx *IOContext) GetLastVersion() (uint64, error)
```

GetLastVersion will return the version number of the last object read or written to\.

Implements: uint64\_t rados\_get\_last\_version\(rados\_ioctx\_t io\);

### func \(\*IOContext\) [GetNamespace](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L671>)

```go
func (ioctx *IOContext) GetNamespace() (string, error)
```

GetNamespace gets the namespace used for objects within this IO context\.

Implements: int rados\_ioctx\_get\_namespace\(rados\_ioctx\_t io\, char \*buf\, unsigned maxlen\);

### func \(\*IOContext\) [GetOmapValues](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L258>)

```go
func (ioctx *IOContext) GetOmapValues(oid string, startAfter string, filterPrefix string, maxReturn int64) (map[string][]byte, error)
```

GetOmapValues fetches a set of keys and their values from an omap and returns then as a map \`startAfter\`: retrieve only the keys after this specified one \`filterPrefix\`: retrieve only the keys beginning with this prefix \`maxReturn\`: retrieve no more than \`maxReturn\` key/value pairs

### func \(\*IOContext\) [GetPoolID](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L268>)

```go
func (ioctx *IOContext) GetPoolID() int64
```

GetPoolID returns the pool ID associated with the I/O context\.

Implements: int64\_t rados\_ioctx\_get\_id\(rados\_ioctx\_t io\)

### func \(\*IOContext\) [GetPoolName](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L274>)

```go
func (ioctx *IOContext) GetPoolName() (name string, err error)
```

GetPoolName returns the name of the pool associated with the I/O context\.

### func \(\*IOContext\) [GetPoolStats](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L242>)

```go
func (ioctx *IOContext) GetPoolStats() (stat PoolStat, err error)
```

GetPoolStats returns a set of statistics about the pool associated with this I/O context\.

Implements: int rados\_ioctx\_pool\_stat\(rados\_ioctx\_t io\, struct rados\_pool\_stat\_t \*stats\);

### func \(\*IOContext\) [GetSnapName](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L75>)

```go
func (ioctx *IOContext) GetSnapName(snapID SnapID) (string, error)
```

GetSnapName returns the name of a pool snapshot with the given snapshot ID\.

Implements: int rados\_ioctx\_snap\_get\_name\(rados\_ioctx\_t io\, rados\_snap\_t id\, char \*name\, int maxlen\)

### func \(\*IOContext\) [GetSnapStamp](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L107>)

```go
func (ioctx *IOContext) GetSnapStamp(snapID SnapID) (time.Time, error)
```

GetSnapStamp returns the time of the pool snapshot creation\.

Implements: int rados\_ioctx\_snap\_get\_stamp\(rados\_ioctx\_t io\, rados\_snap\_t id\, time\_t \*t\)

### func \(\*IOContext\) [GetXattr](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L348>)

```go
func (ioctx *IOContext) GetXattr(object string, name string, data []byte) (int, error)
```

GetXattr gets an xattr with key \`name\`\, it returns the length of the key read or an error if not successful

### func \(\*IOContext\) [Iter](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L20>)

```go
func (ioctx *IOContext) Iter() (*Iter, error)
```

Iter returns a Iterator object that can be used to list the object names in the current pool

### func \(\*IOContext\) [ListLockers](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L565>)

```go
func (ioctx *IOContext) ListLockers(oid, name string) (*LockInfo, error)
```

ListLockers lists clients that have locked the named object lock and information about the lock\. The number of bytes required in each buffer is put in the corresponding size out parameter\.  If any of the provided buffers are too short\, \-ERANGE is returned after these sizes are filled in\.

### func \(\*IOContext\) [ListObjects](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L304>)

```go
func (ioctx *IOContext) ListObjects(listFn ObjectListFunc) error
```

ListObjects lists all of the objects in the pool associated with the I/O context\, and called the provided listFn function for each object\, passing to the function the name of the object\. Call SetNamespace with RadosAllNamespaces before calling this function to return objects from all namespaces

### func \(\*IOContext\) [ListOmapValues](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L231>)

```go
func (ioctx *IOContext) ListOmapValues(oid string, startAfter string, filterPrefix string, maxReturn int64, listFn OmapListFunc) error
```

ListOmapValues iterates over the keys and values in an omap by way of a callback function\.

\`startAfter\`: iterate only on the keys after this specified one \`filterPrefix\`: iterate only on the keys beginning with this prefix \`maxReturn\`: iterate no more than \`maxReturn\` key/value pairs \`listFn\`: the function called at each iteration

### func \(\*IOContext\) [ListSnaps](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L125>)

```go
func (ioctx *IOContext) ListSnaps() ([]SnapID, error)
```

ListSnaps returns a slice containing the SnapIDs of existing pool snapshots\.

Implements: int rados\_ioctx\_snap\_list\(rados\_ioctx\_t io\, rados\_snap\_t \*snaps\, int maxlen\)

### func \(\*IOContext\) [ListXattrs](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L386>)

```go
func (ioctx *IOContext) ListXattrs(oid string) (map[string][]byte, error)
```

ListXattrs lists all the xattrs for an object\. The xattrs are returned as a mapping of string keys and byte\-slice values\.

### func \(\*IOContext\) [LockExclusive](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L433>)

```go
func (ioctx *IOContext) LockExclusive(oid, name, cookie, desc string, duration time.Duration, flags *byte) (int, error)
```

LockExclusive takes an exclusive lock on an object\.

### func \(\*IOContext\) [LockShared](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L481>)

```go
func (ioctx *IOContext) LockShared(oid, name, cookie, tag, desc string, duration time.Duration, flags *byte) (int, error)
```

LockShared takes a shared lock on an object\.

### func \(\*IOContext\) [LookupSnap](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L54>)

```go
func (ioctx *IOContext) LookupSnap(snapName string) (SnapID, error)
```

LookupSnap returns the ID of a pool snapshot\.

Implements: int rados\_ioctx\_snap\_lookup\(rados\_ioctx\_t io\, const char \*name\, rados\_snap\_t \*id\)

### func \(\*IOContext\) [Notify](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L208>)

```go
func (ioctx *IOContext) Notify(obj string, data []byte) ([]NotifyAck, []NotifyTimeout, error)
```

Notify sends a notification with the provided data to all Watchers of the specified object\. PREVIEW

CAUTION: even if the error is not nil\. the returned slices might still contain data\.

### func \(\*IOContext\) [NotifyWithTimeout](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L219-L220>)

```go
func (ioctx *IOContext) NotifyWithTimeout(obj string, data []byte, timeout time.Duration) ([]NotifyAck, []NotifyTimeout, error)
```

NotifyWithTimeout is like Notify\(\) but with a different timeout than the default\. PREVIEW

Implements: int rados\_notify2\(rados\_ioctx\_t io\, const char\* o\, const char\* buf\, int buf\_len\, uint64\_t timeout\_ms\, char\*\* reply\_buffer\, size\_t\* reply\_buffer\_len\)

### func \(\*IOContext\) [Pointer](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L110>)

```go
func (ioctx *IOContext) Pointer() unsafe.Pointer
```

Pointer returns a pointer reference to an internal structure\. This function should NOT be used outside of go\-ceph itself\.

### func \(\*IOContext\) [Read](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L188>)

```go
func (ioctx *IOContext) Read(oid string, data []byte, offset uint64) (int, error)
```

Read reads up to len\(data\) bytes from the object with key oid starting at byte offset offset\. It returns the number of bytes read and an error\, if any\.

### func \(\*IOContext\) [RemoveSnap](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L35>)

```go
func (ioctx *IOContext) RemoveSnap(snapName string) error
```

RemoveSnap deletes the pool snapshot\.

Implements: int rados\_ioctx\_snap\_remove\(rados\_ioctx\_t io\, const char \*snapname\)

### func \(\*IOContext\) [RmOmapKeys](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L304>)

```go
func (ioctx *IOContext) RmOmapKeys(oid string, keys []string) error
```

RmOmapKeys removes the specified \`keys\` from the omap \`oid\`

### func \(\*IOContext\) [RmXattr](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L418>)

```go
func (ioctx *IOContext) RmXattr(oid string, name string) error
```

RmXattr removes an xattr with key \`name\` from object \`oid\`

### func \(\*IOContext\) [RollbackSnap](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L158>)

```go
func (ioctx *IOContext) RollbackSnap(oid, snapName string) error
```

RollbackSnap rollbacks the object with key oID to the pool snapshot\. The contents of the object will be the same as when the snapshot was taken\.

Implements: int rados\_ioctx\_snap\_rollback\(rados\_ioctx\_t io\, const char \*oid\, const char \*snapname\);

### func \(\*IOContext\) [SetNamespace](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L120>)

```go
func (ioctx *IOContext) SetNamespace(namespace string)
```

SetNamespace sets the namespace for objects within this IO context \(pool\)\. Setting namespace to a empty or zero length string sets the pool to the default namespace\.

Implements: void rados\_ioctx\_set\_namespace\(rados\_ioctx\_t io\, const char \*nspace\);

### func \(\*IOContext\) [SetOmap](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L213>)

```go
func (ioctx *IOContext) SetOmap(oid string, pairs map[string][]byte) error
```

SetOmap appends the map \`pairs\` to the omap \`oid\`

### func \(\*IOContext\) [SetPoolFullTry](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx_octopus.go#L20>)

```go
func (ioctx *IOContext) SetPoolFullTry() error
```

SetPoolFullTry makes sure to send requests to the cluster despite the cluster or pool being marked full; ops will either succeed\(e\.g\.\, delete\) or return EDQUOT or ENOSPC\.

Implements: void rados\_set\_pool\_full\_try\(rados\_ioctx\_t io\);

### func \(\*IOContext\) [SetReadSnap](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L182>)

```go
func (ioctx *IOContext) SetReadSnap(snapID SnapID) error
```

SetReadSnap sets the snapshot from which reads are performed\. Subsequent reads will return data as it was at the time of that snapshot\. Pass SnapHead for no snapshot \(i\.e\. normal operation\)\.

Implements: void rados\_ioctx\_snap\_set\_read\(rados\_ioctx\_t io\, rados\_snap\_t snap\);

### func \(\*IOContext\) [SetXattr](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L368>)

```go
func (ioctx *IOContext) SetXattr(object string, name string, data []byte) error
```

SetXattr sets an xattr for an object with key \`name\` with value as \`data\`

### func \(\*IOContext\) [Stat](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L325>)

```go
func (ioctx *IOContext) Stat(object string) (stat ObjectStat, err error)
```

Stat returns the size of the object and its last modification time

### func \(\*IOContext\) [Truncate](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L222>)

```go
func (ioctx *IOContext) Truncate(oid string, size uint64) error
```

Truncate resizes the object with key oid to size size\. If the operation enlarges the object\, the new area is logically filled with zeroes\. If the operation shrinks the object\, the excess data is removed\. It returns an error\, if any\.

### func \(\*IOContext\) [Unlock](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L532>)

```go
func (ioctx *IOContext) Unlock(oid, name, cookie string) (int, error)
```

Unlock releases a shared or exclusive lock on an object\.

### func \(\*IOContext\) [UnsetPoolFullTry](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx_octopus.go#L32>)

```go
func (ioctx *IOContext) UnsetPoolFullTry() error
```

#### UnsetPoolFullTry unsets the flag set by SetPoolFullTry\(\)

Implements: void rados\_unset\_pool\_full\_try\(rados\_ioctx\_t io\);

### func \(\*IOContext\) [Watch](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L98>)

```go
func (ioctx *IOContext) Watch(obj string) (*Watcher, error)
```

Watch creates a Watcher for the specified object\. PREVIEW

A Watcher receives all notifications that are sent to the object on which it has been created\. It exposes two read\-only channels: Events\(\) receives all the NotifyEvents and Errors\(\) receives all occuring errors\. A typical code creating a Watcher could look like this:

watcher\, err := ioctx\.Watch\(oid\) go func\(\) \{ // event handler for ne := range watcher\.Events\(\) \{ \.\.\. ne\.Ack\(\[\]byte\("response data\.\.\."\)\) \.\.\. \} \}\(\) go func\(\) \{ // error handler for err := range watcher\.Errors\(\) \{ \.\.\. handle err \.\.\. \} \}\(\)

CAUTION: the Watcher references the IOContext in which it has been created\. Therefore all watchers must be deleted with the Delete\(\) method before the IOContext is being destroyed\.

Implements: int rados\_watch2\(rados\_ioctx\_t io\, const char\* o\, uint64\_t\* cookie\, rados\_watchcb2\_t watchcb\, rados\_watcherrcb\_t watcherrcb\, void\* arg\)

### func \(\*IOContext\) [WatchWithTimeout](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L110>)

```go
func (ioctx *IOContext) WatchWithTimeout(oid string, timeout time.Duration) (*Watcher, error)
```

WatchWithTimeout creates a watcher on an object\. Same as Watcher\(\)\, but different timeout than the default can be specified\. PREVIEW

Implements: int rados\_watch3\(rados\_ioctx\_t io\, const char \*o\, uint64\_t \*cookie\, rados\_watchcb2\_t watchcb\, rados\_watcherrcb\_t watcherrcb\, uint32\_t timeout\, void \*arg\);

### func \(\*IOContext\) [Write](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L143>)

```go
func (ioctx *IOContext) Write(oid string, data []byte, offset uint64) error
```

Write writes len\(data\) bytes to the object with key oid starting at byte offset offset\. It returns an error\, if any\.

### func \(\*IOContext\) [WriteFull](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L163>)

```go
func (ioctx *IOContext) WriteFull(oid string, data []byte) error
```

WriteFull writes len\(data\) bytes to the object with key oid\. The object is filled with the provided data\. If the object exists\, it is atomically truncated and then written\. It returns an error\, if any\.

## type [Iter](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L9-L14>)

Iter supports iterating over objects in the ioctx\.

```go
type Iter struct {
    // contains filtered or unexported fields
}
```

### func \(\*Iter\) [Close](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L90>)

```go
func (iter *Iter) Close()
```

Close the iterator cursor on the server\. Be aware that iterators are not closed automatically at the end of iteration\.

### func \(\*Iter\) [Err](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L81>)

```go
func (iter *Iter) Err() error
```

Err checks whether the iterator has encountered an error\.

### func \(\*Iter\) [Namespace](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L73>)

```go
func (iter *Iter) Namespace() string
```

Namespace returns the namespace associated with the current value of the iterator \(object name\)\, after a successful call to Next\.

### func \(\*Iter\) [Next](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L52>)

```go
func (iter *Iter) Next() bool
```

Next retrieves the next object name in the pool/namespace iterator\. Upon a successful invocation \(return value of true\)\, the Value method should be used to obtain the name of the retrieved object name\. When the iterator is exhausted\, Next returns false\. The Err method should used to verify whether the end of the iterator was reached\, or the iterator received an error\.

Example: iter := pool\.Iter\(\) defer iter\.Close\(\) for iter\.Next\(\) \{ fmt\.Printf\("%v\\n"\, iter\.Value\(\)\) \} return iter\.Err\(\)

### func \(\*Iter\) [Seek](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L34>)

```go
func (iter *Iter) Seek(token IterToken)
```

Seek moves the iterator to the position indicated by the token\.

### func \(\*Iter\) [Token](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L29>)

```go
func (iter *Iter) Token() IterToken
```

Token returns a token marking the current position of the iterator\. To be used in combination with Iter\.Seek\(\)

### func \(\*Iter\) [Value](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L65>)

```go
func (iter *Iter) Value() string
```

Value returns the current value of the iterator \(object name\)\, after a successful call to Next\.

## type [IterToken](<https://github.com/ceph/go-ceph/blob/master/rados/object_iter.go#L17>)

IterToken supports reporting on and seeking to different positions\.

```go
type IterToken uint32
```

## type [LockInfo](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L85-L92>)

LockInfo represents information on a current Ceph lock

```go
type LockInfo struct {
    NumLockers int
    Exclusive  bool
    Tag        string
    Clients    []string
    Cookies    []string
    Addrs      []string
}
```

## type [NotifierID](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L30>)

NotifierID is the unique id of a notifying client\.

```go
type NotifierID uint64
```

## type [NotifyAck](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L42-L46>)

NotifyAck represents an acknowleged notification\.

```go
type NotifyAck struct {
    WatcherID  WatcherID
    NotifierID NotifierID
    Response   []byte
}
```

## type [NotifyEvent](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L34-L39>)

NotifyEvent is received by a watcher for each notification\.

```go
type NotifyEvent struct {
    ID         NotifyID
    WatcherID  WatcherID
    NotifierID NotifierID
    Data       []byte
}
```

### func \(\*NotifyEvent\) [Ack](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L252>)

```go
func (ne *NotifyEvent) Ack(response []byte) error
```

Ack sends an acknowledgement with the specified response data to the notfier of the NotifyEvent\. If a notify is not ack'ed\, the originating Notify\(\) call blocks and eventiually times out\. PREVIEW

Implements: int rados\_notify\_ack\(rados\_ioctx\_t io\, const char \*o\, uint64\_t notify\_id\, uint64\_t cookie\, const char \*buf\, int buf\_len\)

## type [NotifyID](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L28>)

NotifyID is the unique id of a NotifyEvent\.

```go
type NotifyID uint64
```

## type [NotifyTimeout](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L49-L52>)

NotifyTimeout represents an unacknowleged notification\.

```go
type NotifyTimeout struct {
    WatcherID  WatcherID
    NotifierID NotifierID
}
```

## type [ObjectListFunc](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L297>)

ObjectListFunc is the type of the function called for each object visited by ListObjects\.

```go
type ObjectListFunc func(oid string)
```

## type [ObjectStat](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L77-L82>)

ObjectStat represents an object stat information

```go
type ObjectStat struct {
    // current length in bytes
    Size uint64
    // last modification time
    ModTime time.Time
}
```

## type [OmapKeyValue](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L77-L80>)

OmapKeyValue items are returned by the GetOmapStep's Next call\.

```go
type OmapKeyValue struct {
    Key   string
    Value []byte
}
```

## type [OmapListFunc](<https://github.com/ceph/go-ceph/blob/master/rados/omap.go#L222>)

OmapListFunc is the type of the function called for each omap key visited by ListOmapValues

```go
type OmapListFunc func(key string, value []byte)
```

## type [OpFlags](<https://github.com/ceph/go-ceph/blob/master/rados/rados.go#L29>)

OpFlags are flags that can be set on a per\-op basis\.

```go
type OpFlags uint
```

## type [OperationError](<https://github.com/ceph/go-ceph/blob/master/rados/operation.go#L35-L39>)

OperationError is an error type that may be returned by an Operate call\. It captures the error from the operate call itself and any errors from steps that can return an error\.

```go
type OperationError struct {
    OpError    error
    StepErrors map[int]error
    // contains filtered or unexported fields
}
```

### func \(OperationError\) [Error](<https://github.com/ceph/go-ceph/blob/master/rados/operation.go#L41>)

```go
func (e OperationError) Error() string
```

## type [OperationFlags](<https://github.com/ceph/go-ceph/blob/master/rados/operation_flags.go#L11>)

OperationFlags control the behavior of read and write operations\.

```go
type OperationFlags int
```

## type [PoolStat](<https://github.com/ceph/go-ceph/blob/master/rados/ioctx.go#L51-L72>)

PoolStat represents Ceph pool statistics\.

```go
type PoolStat struct {
    // space used in bytes
    Num_bytes uint64
    // space used in KB
    Num_kb uint64
    // number of objects in the pool
    Num_objects uint64
    // number of clones of objects
    Num_object_clones uint64
    // num_objects * num_replicas
    Num_object_copies              uint64
    Num_objects_missing_on_primary uint64
    // number of objects found on no OSDs
    Num_objects_unfound uint64
    // number of objects replicated fewer times than they should be
    // (but found on at least one OSD)
    Num_objects_degraded uint64
    Num_rd               uint64
    Num_rd_kb            uint64
    Num_wr               uint64
    Num_wr_kb            uint64
}
```

## type [ReadOp](<https://github.com/ceph/go-ceph/blob/master/rados/read_op.go#L16-L19>)

ReadOp manages a set of discrete object read actions that will be performed together atomically\.

```go
type ReadOp struct {
    // contains filtered or unexported fields
}
```

### func [CreateReadOp](<https://github.com/ceph/go-ceph/blob/master/rados/read_op.go#L22>)

```go
func CreateReadOp() *ReadOp
```

CreateReadOp returns a newly constructed read operation\.

### func \(\*ReadOp\) [AssertExists](<https://github.com/ceph/go-ceph/blob/master/rados/read_op.go#L63>)

```go
func (r *ReadOp) AssertExists()
```

AssertExists assures the object targeted by the read op exists\.

Implements: void rados\_read\_op\_assert\_exists\(rados\_read\_op\_t read\_op\);

### func \(\*ReadOp\) [AssertVersion](<https://github.com/ceph/go-ceph/blob/master/rados/rados_read_op_assert_version.go#L20>)

```go
func (r *ReadOp) AssertVersion(ver uint64)
```

AssertVersion ensures that the object exists and that its internal version number is equal to "ver" before reading\. "ver" should be a version number previously obtained with IOContext\.GetLastVersion\(\)\. PREVIEW

Implements: void rados\_read\_op\_assert\_version\(rados\_read\_op\_t read\_op\, uint64\_t ver\)

### func \(\*ReadOp\) [GetOmapValues](<https://github.com/ceph/go-ceph/blob/master/rados/read_op.go#L71>)

```go
func (r *ReadOp) GetOmapValues(startAfter, filterPrefix string, maxReturn uint64) *GetOmapStep
```

GetOmapValues is used to iterate over a set\, or sub\-set\, of omap keys as part of a read operation\. An GetOmapStep is returned from this function\. The GetOmapStep may be used to iterate over the key\-value pairs after the Operate call has been performed\.

### func \(\*ReadOp\) [GetOmapValuesByKeys](<https://github.com/ceph/go-ceph/blob/master/rados/read_op_omap_get_vals_by_keys.go#L96>)

```go
func (r *ReadOp) GetOmapValuesByKeys(keys []string) *ReadOpOmapGetValsByKeysStep
```

GetOmapValuesByKeys starts iterating over specific key/value pairs\. PREVIEW

Implements: void rados\_read\_op\_omap\_get\_vals\_by\_keys\(rados\_read\_op\_t read\_op\, char const \* const \* keys\, size\_t keys\_len\, rados\_omap\_iter\_t \* iter\, int \* prval\)

### func \(\*ReadOp\) [Operate](<https://github.com/ceph/go-ceph/blob/master/rados/read_op.go#L36>)

```go
func (r *ReadOp) Operate(ioctx *IOContext, oid string, flags OperationFlags) error
```

Operate will perform the operation\(s\)\.

### func \(\*ReadOp\) [Read](<https://github.com/ceph/go-ceph/blob/master/rados/read_op_read.go#L61>)

```go
func (r *ReadOp) Read(offset uint64, buffer []byte) *ReadOpReadStep
```

Read bytes from offset into buffer\. len\(buffer\) is the maximum number of bytes read from the object\. buffer\[:ReadOpReadStep\.BytesRead\] then contains object data\. PREVIEW

Implements: void rados\_read\_op\_read\(rados\_read\_op\_t read\_op\, uint64\_t offset\, size\_t len\, char \* buffer\, size\_t \* bytes\_read\, int \* prval\)

### func \(\*ReadOp\) [Release](<https://github.com/ceph/go-ceph/blob/master/rados/read_op.go#L29>)

```go
func (r *ReadOp) Release()
```

Release the resources associated with this read operation\.

## type [ReadOpOmapGetValsByKeysStep](<https://github.com/ceph/go-ceph/blob/master/rados/read_op_omap_get_vals_by_keys.go#L19-L30>)

ReadOpOmapGetValsByKeysStep holds the result of the GetOmapValuesByKeys read operation\. Result is valid only after Operate\(\) was called\.

```go
type ReadOpOmapGetValsByKeysStep struct {
    // contains filtered or unexported fields
}
```

### func \(\*ReadOpOmapGetValsByKeysStep\) [Next](<https://github.com/ceph/go-ceph/blob/master/rados/read_op_omap_get_vals_by_keys.go#L60>)

```go
func (s *ReadOpOmapGetValsByKeysStep) Next() (*OmapKeyValue, error)
```

Next gets the next omap key/value pair referenced by ReadOpOmapGetValsByKeysStep's internal iterator\. If there are no more elements to retrieve\, \(nil\, nil\) is returned\. May be called only after Operate\(\) finished\. PREVIEW

## type [ReadOpReadStep](<https://github.com/ceph/go-ceph/blob/master/rados/read_op_read.go#L18-L25>)

ReadOpReadStep holds the result of the Read read operation\. Result is valid only after Operate\(\) was called\.

```go
type ReadOpReadStep struct {
    BytesRead int64 // Bytes read by this action.
    Result    int   // Result of this action.
    // contains filtered or unexported fields
}
```

## type [SnapID](<https://github.com/ceph/go-ceph/blob/master/rados/snapshot.go#L48>)

SnapID represents the ID of a rados snapshot\.

```go
type SnapID C.rados_snap_t
```

## type [Timespec](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L17>)

Timespec is a public type for the internal C 'struct timespec'

```go
type Timespec ts.Timespec
```

## type [Watcher](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L55-L62>)

Watcher receives all notifications for certain object\.

```go
type Watcher struct {
    // contains filtered or unexported fields
}
```

### func \(\*Watcher\) [Check](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L169>)

```go
func (w *Watcher) Check() (time.Duration, error)
```

Check on the status of a Watcher\. PREVIEW

Returns the time since it was last confirmed\. If there is an error\, the Watcher is no longer valid\, and should be destroyed with the Delete\(\) method\.

Implements: int rados\_watch\_check\(rados\_ioctx\_t io\, uint64\_t cookie\)

### func \(\*Watcher\) [Delete](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L182>)

```go
func (w *Watcher) Delete() error
```

Delete the watcher\. This closes both the event and error channel\. PREVIEW

Implements: int rados\_unwatch2\(rados\_ioctx\_t io\, uint64\_t cookie\)

### func \(\*Watcher\) [Errors](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L157>)

```go
func (w *Watcher) Errors() <-chan error
```

Errors returns a read\-only channel\, that receives all errors for the Watcher\. PREVIEW

### func \(\*Watcher\) [Events](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L151>)

```go
func (w *Watcher) Events() <-chan NotifyEvent
```

Events returns a read\-only channel\, that receives all notifications that are sent to the object of the Watcher\. PREVIEW

### func \(\*Watcher\) [ID](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L144>)

```go
func (w *Watcher) ID() WatcherID
```

ID returns the WatcherId of the Watcher PREVIEW

## type [WatcherID](<https://github.com/ceph/go-ceph/blob/master/rados/watcher.go#L26>)

WatcherID is the unique id of a Watcher\.

```go
type WatcherID uint64
```

## type [WriteOp](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L21-L24>)

WriteOp manages a set of discrete actions that will be performed together atomically\.

```go
type WriteOp struct {
    // contains filtered or unexported fields
}
```

### func [CreateWriteOp](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L27>)

```go
func CreateWriteOp() *WriteOp
```

CreateWriteOp returns a newly constructed write operation\.

### func \(\*WriteOp\) [AssertExists](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L124>)

```go
func (w *WriteOp) AssertExists()
```

AssertExists assures the object targeted by the write op exists\.

Implements: void rados\_write\_op\_assert\_exists\(rados\_write\_op\_t write\_op\);

### func \(\*WriteOp\) [AssertVersion](<https://github.com/ceph/go-ceph/blob/master/rados/rados_write_op_assert_version.go#L20>)

```go
func (w *WriteOp) AssertVersion(ver uint64)
```

AssertVersion ensures that the object exists and that its internal version number is equal to "ver" before writing\. "ver" should be a version number previously obtained with IOContext\.GetLastVersion\(\)\. PREVIEW

Implements: void rados\_read\_op\_assert\_version\(rados\_read\_op\_t read\_op\, uint64\_t ver\)

### func \(\*WriteOp\) [CleanOmap](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L116>)

```go
func (w *WriteOp) CleanOmap()
```

CleanOmap clears the omap \`oid\`\.

### func \(\*WriteOp\) [CmpExt](<https://github.com/ceph/go-ceph/blob/master/rados/write_op_cmpext.go#L47>)

```go
func (w *WriteOp) CmpExt(b []byte, offset uint64) *WriteOpCmpExtStep
```

CmpExt ensures that given object range \(extent\) satisfies comparison\.

Implements: void rados\_write\_op\_cmpext\(rados\_write\_op\_t write\_op\, const char \* cmp\_buf\, size\_t cmp\_len\, uint64\_t off\, int \* prval\);

### func \(\*WriteOp\) [Create](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L87>)

```go
func (w *WriteOp) Create(exclusive CreateOption)
```

Create a rados object\.

### func \(\*WriteOp\) [Operate](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L63>)

```go
func (w *WriteOp) Operate(ioctx *IOContext, oid string, flags OperationFlags) error
```

Operate will perform the operation\(s\)\.

### func \(\*WriteOp\) [OperateWithMtime](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L69-L70>)

```go
func (w *WriteOp) OperateWithMtime(ioctx *IOContext, oid string, mtime Timespec, flags OperationFlags) error
```

OperateWithMtime will perform the operation while setting the modification time stamp to the supplied value\.

### func \(\*WriteOp\) [Release](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L34>)

```go
func (w *WriteOp) Release()
```

Release the resources associated with this write operation\.

### func \(\*WriteOp\) [Remove](<https://github.com/ceph/go-ceph/blob/master/rados/rados_write_op_remove.go#L17>)

```go
func (w *WriteOp) Remove()
```

Remove object\. PREVIEW

Implements: void rados\_write\_op\_remove\(rados\_write\_op\_t write\_op\)

### func \(\*WriteOp\) [RmOmapKeys](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L106>)

```go
func (w *WriteOp) RmOmapKeys(keys []string)
```

RmOmapKeys removes the specified \`keys\` from the omap \`oid\`\.

### func \(\*WriteOp\) [SetOmap](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L94>)

```go
func (w *WriteOp) SetOmap(pairs map[string][]byte)
```

SetOmap appends the map \`pairs\` to the omap \`oid\`\.

### func \(\*WriteOp\) [SetXattr](<https://github.com/ceph/go-ceph/blob/master/rados/rados_write_op_setxattr.go#L24>)

```go
func (w *WriteOp) SetXattr(name string, value []byte)
```

SetXattr sets an xattr\. PREVIEW

Implements: void rados\_write\_op\_setxattr\(rados\_write\_op\_t write\_op\, const char \* name\, const char \* value\, size\_t value\_len\)

### func \(\*WriteOp\) [Write](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L135>)

```go
func (w *WriteOp) Write(b []byte, offset uint64)
```

Write a given byte slice at the supplied offset\.

Implements: void rados\_write\_op\_write\(rados\_write\_op\_t write\_op\, const char \*buffer\, size\_t len\, uint64\_t offset\);

### func \(\*WriteOp\) [WriteFull](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L152>)

```go
func (w *WriteOp) WriteFull(b []byte)
```

WriteFull writes a given byte slice as the whole object\, atomically replacing it\.

Implements: void rados\_write\_op\_write\_full\(rados\_write\_op\_t write\_op\, const char \*buffer\, size\_t len\);

### func \(\*WriteOp\) [WriteSame](<https://github.com/ceph/go-ceph/blob/master/rados/write_op.go#L170>)

```go
func (w *WriteOp) WriteSame(b []byte, writeLen, offset uint64)
```

WriteSame write a given byte slice to the object multiple times\, until writeLen is satisfied\.

Implements: void rados\_write\_op\_writesame\(rados\_write\_op\_t write\_op\, const char \*buffer\, size\_t data\_len\, size\_t write\_len\, uint64\_t offset\);

## type [WriteOpCmpExtStep](<https://github.com/ceph/go-ceph/blob/master/rados/write_op_cmpext.go#L15-L21>)

WriteOpCmpExtStep holds result of the CmpExt write operation\. Result is valid only after Operate\(\) was called\.

```go
type WriteOpCmpExtStep struct {

    // Result of the CmpExt write operation.
    Result int
    // contains filtered or unexported fields
}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
